<!DOCTYPE html>
<!-- <html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"> -->
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link th:href="@{/styles/main.css}" rel="stylesheet" />

<head>
<meta charset="UTF-8" />
<title th:text="${bingo_welcome_title}">Welcome to ComakeIt Tambola Game</title>
</head>
<body>

	<button type="button" th:if="${bingo_game_id}" th:onclick="|window.location.href='/bingo-game'|" class="btn btn-danger">Restart Tambola!!</button>
	&emsp;&emsp;&emsp;
	<button type="button" th:if="${bingo_game_id != null}"
		th:onclick="|window.location.href='startBingo'|" class="btn btn-success">Generate Emails !!</button>
	
	<div class="game-display">

		<div class="left-container">
			<h1 th:if="${bingo_start_game}" th:text="${bingo_start_game}">bingo_start_game</h1>

			<button th:if="${bingo_game_id}" type="button" th:onclick="|window.location.href='callNextRandomNumber'|" class="btn btn-info call-number-button">
				Call Next</button>

			<div th:if="${bingo_game_id}" th:text="'Game id: ' + ${bingo_game_id}">bingo_game_id</div>
			<span th:if="${pdfGenerated==5}">Pdfs are generated</span>
			<span>
				<h2 th:text="${bingo_call_number}"></h2>
				<h2 th:text="${bingo_call_value}"></h2>
			</span>

			<div class="called_calls">
				<div th:each="count,iterator: ${bingo_done_calls}">
					<span th:text="'Call ' + ${iterator.index+1} + ' :' "></span>
					<span th:text="${count}"></span>
				</div>
			</div>
		</div>
		<div class="right-container">
			<div th:if="${bingo_game_id}">
				<h3>Users</h3>
				<div th:each="em ,iterator: ${bingo_user_emails}">
					<h4 th:text="${iterator.index+1} + ' :' "></h4>
					<a th:text="${em}" th:href="@{'/slips/' + ${em}}"
						onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=800,height=700,toolbar=1,resizable=0'); return false;"></a>
				</div>

<!-- 				<div class="form-group" id="parentElement">
					<input type="text" class="form-control" id="usr1"
						placeholder="Name"> <input type="text" class="form-control" id="email1" placeholder="Email">
				</div>
				<button onclick="addInputLine()" name="addInputLine" class="btn btn-info"><i class="fa fa-plus"></i></button>
     -->
			</div>
		</div>

	</div>
	<div class="all-calls-style" th:if="1==0">
		<span th:each="count,iterator: ${bingo_calls}"> <span
			th:text="'Call' + ${iterator.index+1} + ':' "></span> <span
			th:text="${count}+ ', '"></span>
		</span>
	</div>
 <div class='footer' th:include="footer::footer"></div>
 </body>
 
 <script>

 	var i = 2;
	function addInputLine() {
		console.log(i)
		
		var namenode = document.createElement("input"); // Create an <input> node   
		namenode.classList.add("form-control");
		namenode.setAttribute("id", "usr" + i);
		namenode.setAttribute("placeholder", "Name");
		
		var emailnode = document.createElement("input"); // Create an <input> node   
		emailnode.classList.add("form-control");
		emailnode.setAttribute("id", "email" + i);
		emailnode.setAttribute("placeholder", "Email");
		
		document.getElementById("parentElement").appendChild(namenode);
		document.getElementById("parentElement").appendChild(emailnode); // Append it to the parent
		i++;
	}
		
	</script>
</html>
